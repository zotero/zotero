<!--
    ***** BEGIN LICENSE BLOCK *****
    
    Copyright © 2006–2022 Center for History and New Media
                     George Mason University, Fairfax, Virginia, USA
                     http://zotero.org
    
    This file is part of Zotero.
    
    Zotero is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    Zotero is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.
    
    You should have received a copy of the GNU Affero General Public License
    along with Zotero.  If not, see <http://www.gnu.org/licenses/>.
    
    ***** END LICENSE BLOCK *****
-->

<vbox id="zotero-prefpane-cite" onload="event.waitUntil(Zotero_Preferences.Cite.init())">
	<vbox class="main-section" id="styles">
		<groupbox flex="1" aria-label="&zotero.preferences.cite.styles.styleManager;" aria-describedby="styleManager-intro">
			<!-- HTML needs to be wrapped in an hbox to isolate from XUL box layout -->
			<hbox><label control="styleManager-table"><html:h2>&zotero.preferences.cite.styles.styleManager;</html:h2></label></hbox>
			<description id="styleManager-intro" data-l10n-id="preferences-styleManager-intro"/>
			<separator class="thin"/>
			<hbox class="virtualized-table-container" flex="1">
				<html:div id="styleManager"/>
			</hbox>
			<separator class="thin"/>
			<hbox id="styleManager-buttons" align="center">
				<button id="reset-styles-button"
					data-l10n-id="preferences-styleManager-restore-default"
					oncommand="Zotero_Preferences.Cite.resetStyles()"/>
				<button id="add-from-file-button" data-l10n-id="preferences-styleManager-add-from-file"
					oncommand="Zotero_Preferences.Cite.addStyle()"/>
				<button id="get-additional-styles-button" data-l10n-id="preferences-styleManager-get-additional-styles"
					oncommand="Zotero_Preferences.Cite.openStylesPage()"/>
			</hbox>
		</groupbox>

		<groupbox aria-labelledby="citation-dialog-title">
			<label><html:h2 id="citation-dialog-title" data-l10n-id="preferences-citation-dialog"></html:h2></label>
			<groupbox aria-labelledby="citation-dialog-mode-label">
				<hbox align="center">
					<label id="citation-dialog-mode-label" data-l10n-id="preferences-citation-dialog-mode">:</label>
					<radiogroup orient="horizontal" id="citation-dialog-mode" preference="extensions.zotero.integration.citationDialogMode">
						<radio data-l10n-id="preferences-citation-dialog-mode-last-used" value="last-used"/>
						<radio data-l10n-id="preferences-citation-dialog-mode-library" value="library"/>
						<radio data-l10n-id="preferences-citation-dialog-mode-list" value="list"/>
					</radiogroup>
				</hbox>
			</groupbox>
		</groupbox>

		<groupbox aria-label="&zotero.preferences.citationOptions.caption;">
			<label><html:h2>&zotero.preferences.citationOptions.caption;</html:h2></label>
			
			<checkbox label="&zotero.preferences.export.citePaperJournalArticleURL;" preference="extensions.zotero.export.citePaperJournalArticleURL" native="true" aria-describedby="quickCopy-citePaperJournalArticleURL"/>
			<!-- This doesn't wrap without an explicit width, for some reason -->
			<label id="quickCopy-citePaperJournalArticleURL" width="45em">
				&zotero.preferences.export.citePaperJournalArticleURL.description;
			</label>
		</groupbox>
		
		<groupbox aria-label="&zotero.general.tools;">
			<label><html:h2>&zotero.general.tools;</html:h2></label>
			
			<hbox>
				<button id="openCSLEdit"
					label="&zotero.preferences.styleEditor;"
					oncommand="window.open('chrome://zotero/content/tools/csledit.xhtml', '_blank', 'chrome,width=950,height=700,resizable')"/>
				<button id="openCSLPreview"
					label="&zotero.preferences.stylePreview;"
					oncommand="window.open('chrome://zotero/content/tools/cslpreview.xhtml', '_blank', 'chrome,width=950,height=700,resizable')"/>
			</hbox>
		</groupbox>
	</vbox>
	<vbox class="main-section" id="quickCopy" aria-label="&zotero.preferences.quickCopy.caption;" role="group">
		<groupbox id="zotero-prefpane-quickCopy-groupbox" aria-label="&zotero.preferences.quickCopy.caption;" aria-describedby="quickCopy-instructions quickCopy-citationInstructions">
			<vbox>
				<label><html:h1>&zotero.preferences.quickCopy.caption;</html:h1></label>
			</vbox>
			
			<label id="quickCopy-instructions"/>
			<separator class="thin"/>
			<label id="quickCopy-citationInstructions"/>
			
			<separator/>
			
			<label value="&zotero.preferences.quickCopy.itemFormat;" control="zotero-quickCopy-menu"/>
			<menulist id="zotero-quickCopy-menu" label="&zotero.general.loading;" native="true"/>
			
			<hbox align="center">
				<label id="zotero-quickCopy-locale-menu-label" value="&zotero.bibliography.locale.label;" control="zotero-quickCopy-locale-menu"/>
				<menulist id="zotero-quickCopy-locale-menu" oncommand="Zotero_Preferences.QuickCopy._lastSelectedLocale = this.value" native="true"/>
				
				<separator orient="vertical" width="15px"/>
				
				<checkbox id="zotero-quickCopy-copyAsHTML" label="&zotero.preferences.quickCopy.copyAsHTML;"
					oncommand="Zotero_Preferences.QuickCopy.onCopyAsHTMLChange(this.checked)"
					native="true"/>
			</hbox>
			
			<separator/>
			
			<label value="&zotero.preferences.quickCopy.noteFormat;" control="zotero-noteQuickCopy-menu"/>
			<menulist id="zotero-noteQuickCopy-menu" label="&zotero.general.loading;" native="true"/>
			<box id="noteQuickCopy-wrapper">
				<vbox id="noteQuickCopy-format-options" hidden="true" align="center">
					<hbox id="noteQuickCopy-markdown-options" align="center">
						<label id="noteQuickCopy-markdown-includeAppLinks-label"></label>
						<checkbox id="noteQuickCopy-markdown-includeAppLinks"
							oncommand="Zotero_Preferences.QuickCopy.onUpdateNoteOptions()"
							native="true" aria-describedby="noteQuickCopy-markdown-includeAppLinks-label"/>
					</hbox>
					<hbox id="noteQuickCopy-html-options" align="center">
						<label id="noteQuickCopy-html-includeAppLinks-label"></label>
						<checkbox id="noteQuickCopy-html-includeAppLinks"
							oncommand="Zotero_Preferences.QuickCopy.onUpdateNoteOptions()"
							native="true" aria-describedby="noteQuickCopy-html-includeAppLinks-label"/>
					</hbox>
				</vbox>
			</box>
			<separator/>
			
			<label value="&zotero.preferences.quickCopy.siteEditor.setings;" control="quickCopy-siteSettings-table"/>
			<hbox class="virtualized-table-container" flex="1">
				<html:div id="quickCopy-siteSettings"/>
			</hbox>
			<separator class="thin"/>
			<hbox>
				<button disabled="true" id="quickCopy-edit" label="&zotero.general.edit;"
					onclick="if (!this.disabled) Zotero_Preferences.QuickCopy.showQuickCopySiteEditor(true)"/>
				<spacer flex="1"/>
				<button disabled="true" id="quickCopy-delete" data-l10n-id="preferences-quickCopy-minus" data-l10n-args='{"label":"-"}' onclick="if (!this.disabled) Zotero_Preferences.QuickCopy.deleteSelectedQuickCopySite()"/>
				<button data-l10n-id="preferences-quickCopy-plus" data-l10n-args='{"label":"+"}' id="quickCopy-add" onclick="Zotero_Preferences.QuickCopy.showQuickCopySiteEditor()"></button>
			</hbox>
			
			<hbox align="center">
				<label id="zotero-prefpane-quickcopy-draglimit-label1" value="&zotero.preferences.quickCopy.dragLimit;"/>
				<html:input aria-labelledby="zotero-prefpane-quickcopy-draglimit-label1 zotero-prefpane-quickcopy-draglimit-label2" type="text" preference="extensions.zotero.export.quickCopy.dragLimit" size="3"/>
				<label id="zotero-prefpane-quickcopy-draglimit-label2" value="&zotero.preferences.items;" flex="1"/>
			</hbox>
		</groupbox>
	</vbox>
	<vbox class="main-section" id="wordProcessors" aria-label="&zotero.preferences.cite.wordProcessors;" role="group">
		<html:h1>&zotero.preferences.cite.wordProcessors;</html:h1>
		
		<vbox id="wordProcessorInstallers"/>
	</vbox>
</vbox>
